{"version":3,"file":"h5p-editor-uuid.js","sources":["node_modules/h5p-utils/dist/h5p-utils.es.js","h5p-editor-uuid.ts"],"sourcesContent":["var p = Object.defineProperty;\nvar l = (t, e, s) => e in t ? p(t, e, { enumerable: !0, configurable: !0, writable: !0, value: s }) : t[e] = s;\nvar o = (t, e, s) => (l(t, typeof e != \"symbol\" ? e + \"\" : e, s), s);\nconst i = window.H5P ?? {}, c = window.H5PEditor ?? {}, u = (t) => i.getPath(t, c.contentId), m = (t) => t ? t.startsWith(\"http://\") || t.startsWith(\"https://\") ? t : u(t) : null, g = (t, e) => {\n  i[t] = e;\n}, w = (t, e, s) => {\n  c[t] = s, c.widgets[e] = s;\n};\nclass d extends i.EventDispatcher {\n  constructor(s, r, n) {\n    super();\n    o(this, \"wrapper\");\n    this.params = s, this.contentId = r, this.extras = n, this.wrapper = document.createElement(\"div\");\n  }\n}\nclass H extends i.EventDispatcher {\n  constructor(s, r, n, a) {\n    super();\n    o(this, \"wrapper\");\n    this.parent = s, this.field = r, this.params = n, this.setValue = a, this.wrapper = document.createElement(\"div\");\n  }\n}\nclass P extends d {\n  constructor(s, r, n, a) {\n    super(s, r, n);\n    o(this, \"state\");\n    this.state = a;\n  }\n}\nexport {\n  i as H5P,\n  d as H5PContentType,\n  c as H5PEditor,\n  P as H5PResumableContentType,\n  H as H5PWidget,\n  u as getAbsoluteUrlFromRelativePath,\n  m as getImageUrl,\n  g as registerContentType,\n  w as registerWidget\n};\n","import type { H5PFieldText, IH5PWidget } from \"h5p-types\";\nimport { H5P, H5PWidget, registerWidget } from \"h5p-utils\";\n\nclass UUIDWidget extends H5PWidget<H5PFieldText> implements IH5PWidget {\n  appendTo() {\n    const { field, params, setValue } = this;\n\n    const isTextField = field.type === \"text\";\n    if (!isTextField) {\n      console.warn(\n        `The field \\`${field.name}\\` has the widget \\`uuid\\` set, but is of type \\`${field.type}\\`, not \\`text\\``,\n      );\n    }\n\n    const needsID = !params;\n    if (needsID) {\n      setValue(field, H5P.createUUID());\n    }\n  }\n\n  validate() {\n    return true;\n  }\n\n  remove() {}\n}\n\nregisterWidget(\"UUIDWidget\", \"uuid\", UUIDWidget);\n"],"names":["t","s","o","i","_a","c","_b","w","d","r","n","H","a","UUIDWidget","H5PWidget","field","params","setValue","H5P","registerWidget"],"mappings":"iCAAA,IAAI,EAAI,OAAO,eACX,EAAI,CAACA,EAAG,EAAGC,IAAM,KAAKD,EAAI,EAAEA,EAAG,EAAG,CAAE,WAAY,GAAI,aAAc,GAAI,SAAU,GAAI,MAAOC,CAAC,CAAE,EAAID,EAAE,CAAC,EAAIC,EACzGC,EAAI,CAACF,EAAG,EAAGC,KAAO,EAAED,EAAG,OAAO,GAAK,SAAW,EAAI,GAAK,EAAGC,CAAC,EAAGA,GAC5D,MAAAE,GAAIC,EAAA,OAAO,MAAP,KAAAA,EAAc,CAAA,EAAIC,GAAIC,EAAA,OAAO,YAAP,KAAAA,EAAoB,CAAA,EAEjDC,EAAI,CAACP,EAAG,EAAGC,IAAM,CAClBI,EAAEL,CAAC,EAAIC,EAAGI,EAAE,QAAQ,CAAC,EAAIJ,CAC3B,EACA,MAAMO,UAAUL,EAAE,eAAgB,CAChC,YAAYF,EAAGQ,EAAGC,EAAG,CACnB,QACAR,EAAE,KAAM,SAAS,EACjB,KAAK,OAASD,EAAG,KAAK,UAAYQ,EAAG,KAAK,OAASC,EAAG,KAAK,QAAU,SAAS,cAAc,KAAK,CAClG,CACH,CACA,MAAMC,UAAUR,EAAE,eAAgB,CAChC,YAAYF,EAAGQ,EAAGC,EAAGE,EAAG,CACtB,QACAV,EAAE,KAAM,SAAS,EACjB,KAAK,OAASD,EAAG,KAAK,MAAQQ,EAAG,KAAK,OAASC,EAAG,KAAK,SAAWE,EAAG,KAAK,QAAU,SAAS,cAAc,KAAK,CACjH,CACH,CClBA,MAAMC,UAAmBC,CAA8C,CACrE,UAAW,CACT,KAAM,CAAE,MAAAC,EAAO,OAAAC,EAAQ,SAAAC,CAAA,EAAa,KAEhBF,EAAM,OAAS,QAEzB,QAAA,KACN,eAAeA,EAAM,wDAAwDA,EAAM,sBAAA,EAIvE,CAACC,GAENC,EAAAF,EAAOG,EAAI,WAAY,CAAA,CAEpC,CAEA,UAAW,CACF,MAAA,EACT,CAEA,QAAS,CAAC,CACZ,CAEAC,EAAe,aAAc,OAAQN,CAAU"}